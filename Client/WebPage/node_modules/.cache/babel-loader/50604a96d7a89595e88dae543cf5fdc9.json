{"ast":null,"code":"var _jsxFileName = \"/Users/rahulbhatia/Documents/Spring22/Course/SE/TripPlanner/Client/WebPage/src/pages/Login.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Grid, Paper, Avatar, Typography, TextField, Button } from '@mui/material'; // import AddCircleOutlineOutlinedIcon from '@material-ui/icons/AddCircleOutlineOutlined';\n\nimport { Radio } from '@mui/material';\nimport { RadioGroup } from '@mui/material'; // import FormControlLabel from '@mui/material';\n//  import {FormControl} from '@mui/material';\n\nimport { FormControl } from '@mui/material';\nimport { FormControlLabel } from '@mui/material';\nimport { FormLabel } from '@mui/material'; //import {Checkbox} from '@material-ui/core/Checkbox';\n\nimport { Checkbox } from '@mui/material';\nimport { Navigate } from \"react-router-dom\";\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.changeHandler = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.submitHandler = e => {\n      e.preventDefault();\n      console.log(this.state);\n      axios.post('/users/login ', this.state, {\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }).then(response => {\n        // if(response.data.token){\n        //     alert(\"logged in successfull\")\n        // }\n        console.log(\"logiinnnnnnnnnn\");\n        console.log(response);\n\n        if (response.status != 200) {\n          alert(\"Wrong Email 0r Password\");\n        }\n\n        localStorage.setItem('token', response.data.token);\n        localStorage.setItem('token1', response.data.user_id);\n        this.setState({\n          LoggedIn: true\n        });\n        this.props.setUser(response.data);\n        console.log(\"RESPONES\");\n        console.log(response.data); // console.log(response.data.token)\n      }).catch(error => {\n        if (error) {\n          alert(\"Wrong Email 0r Password\");\n        }\n      });\n      this.setState({\n        // User_type:'',\n        Password: '',\n        Email: ''\n      });\n    };\n\n    this.state = {\n      // User_type:'',\n      Password: '',\n      Email: ''\n    };\n  }\n\n  render() {\n    if (this.state.LoggedIn) {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this);\n    }\n\n    const paperStyle = {\n      padding: '30px 20px',\n      width: 300,\n      margin: \"20px auto\"\n    };\n    const headerStyle = {\n      margin: 0\n    };\n    const avatarStyle = {\n      backgroundColor: '#1bbd7e'\n    };\n    const {\n      Password,\n      Email\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 20,\n        style: paperStyle,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          align: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            style: avatarStyle,\n            children: \"Log\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            gutterBottom: true,\n            children: \"Please Login here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.submitHandler,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            id: \"mui-1\",\n            fullWidth: true,\n            label: \"Email\",\n            placeholder: \"Enter your email\",\n            type: \"email\",\n            name: \"Email\",\n            value: Email,\n            onChange: this.changeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"mui-2\",\n            fullWidth: true,\n            label: \"Password\",\n            placeholder: \"Enter your password\",\n            type: \"password\",\n            name: \"Password\",\n            value: Password,\n            onChange: this.changeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"MuiButton-root\",\n            type: \"submit\",\n            variant: \"contained\",\n            color: \"primary\",\n            style: {\n              marginTop: \"15px\",\n              marginLeft: \"90px\"\n            },\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"http://localhost:3000/Signup\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              id: \"signup\",\n              variant: \"contained\",\n              color: \"primary\",\n              style: {\n                marginTop: \"15px\",\n                marginLeft: \"90px\"\n              },\n              to: \"/Signup\",\n              children: \"SignUp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 4\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/rahulbhatia/Documents/Spring22/Course/SE/TripPlanner/Client/WebPage/src/pages/Login.js"],"names":["React","Component","axios","Grid","Paper","Avatar","Typography","TextField","Button","Radio","RadioGroup","FormControl","FormControlLabel","FormLabel","Checkbox","Navigate","Link","Login","constructor","props","changeHandler","e","setState","target","name","value","submitHandler","preventDefault","console","log","state","post","headers","then","response","status","alert","localStorage","setItem","data","token","user_id","LoggedIn","setUser","catch","error","Password","Email","render","paperStyle","padding","width","margin","headerStyle","avatarStyle","backgroundColor","marginTop","marginLeft"],"mappings":";AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,MAAtB,EAA8BC,UAA9B,EAA0CC,SAA1C,EAAqDC,MAArD,QAAmE,eAAnE,C,CACA;;AACA,SAASC,KAAT,QAAsB,eAAtB;AACA,SAASC,UAAT,QAA2B,eAA3B,C,CACA;AACA;;AACA,SAASC,WAAT,QAA4B,eAA5B;AACC,SAASC,gBAAT,QAAiC,eAAjC;AACA,SAASC,SAAT,QAA0B,eAA1B,C,CACA;;AACA,SAASC,QAAT,QAAyB,eAAzB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACD,SAASC,IAAT,QAAqB,kBAArB;;;AACC,MAAMC,KAAN,SAAoBhB,SAApB,CAA8B;AAC9BiB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;;AADkB,SAgBhBC,aAhBgB,GAgBAC,CAAC,IAAI;AACvB,WAAKC,QAAL,CAAc;AAAE,SAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE;AAA5B,OAAd;AACA,KAlBkB;;AAAA,SAmBhBC,aAnBgB,GAmBAL,CAAC,IAAI;AACvBA,MAAAA,CAAC,CAACM,cAAF;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAjB;AAIA5B,MAAAA,KAAK,CACH6B,IADF,CACO,eADP,EACwB,KAAKD,KAD7B,EACmC;AACjCE,QAAAA,OAAO,EAAE;AACP,0BAAiB;AADV;AADwB,OADnC,EAQEC,IARF,CAQOC,QAAQ,IAAI;AAGL;AACA;AACA;AACZN,QAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYK,QAAZ;;AAEA,YAAGA,QAAQ,CAACC,MAAT,IAAmB,GAAtB,EAA0B;AACzBC,UAAAA,KAAK,CAAC,yBAAD,CAAL;AAEA;;AAGWC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,QAAQ,CAACK,IAAT,CAAcC,KAA5C;AACCH,QAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BJ,QAAQ,CAACK,IAAT,CAAcE,OAA7C;AACb,aAAKnB,QAAL,CAAc;AACboB,UAAAA,QAAQ,EAAE;AADG,SAAd;AAIC,aAAKvB,KAAL,CAAWwB,OAAX,CAAmBT,QAAQ,CAACK,IAA5B;AACDX,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACYD,QAAAA,OAAO,CAACC,GAAR,CAAYK,QAAQ,CAACK,IAArB,EAvBK,CAyBjB;AACA,OAlCF,EAmCEK,KAnCF,CAmCQC,KAAK,IAAI;AAEf,YAAIA,KAAJ,EAAU;AACTT,UAAAA,KAAK,CAAC,yBAAD,CAAL;AACA;AAED,OAzCF;AA0CU,WAAKd,QAAL,CAAc;AAEvB;AACAwB,QAAAA,QAAQ,EAAE,EAHa;AAIvBC,QAAAA,KAAK,EAAC;AAJiB,OAAd;AASV,KA5EkB;;AAGlB,SAAKjB,KAAL,GAAa;AAEZ;AACAgB,MAAAA,QAAQ,EAAE,EAHE;AAIZC,MAAAA,KAAK,EAAC;AAJM,KAAb;AAQA;;AAkEEC,EAAAA,MAAM,GAAG;AAEX,QAAG,KAAKlB,KAAL,CAAWY,QAAd,EAAuB;AACtB,0BAAO,QAAC,QAAD;AAAU,QAAA,EAAE,EAAE;AAAd;AAAA;AAAA;AAAA;AAAA,cAAP;AACA;;AACA,UAAMO,UAAU,GAAG;AAAEC,MAAAA,OAAO,EAAE,WAAX;AAAwBC,MAAAA,KAAK,EAAE,GAA/B;AAAoCC,MAAAA,MAAM,EAAE;AAA5C,KAAnB;AACC,UAAMC,WAAW,GAAG;AAAED,MAAAA,MAAM,EAAE;AAAV,KAApB;AACA,UAAME,WAAW,GAAG;AAAEC,MAAAA,eAAe,EAAE;AAAnB,KAApB;AACA,UAAM;AAAET,MAAAA,QAAF;AAAaC,MAAAA;AAAb,QAAwB,KAAKjB,KAAnC;AAEA,wBACI,QAAC,IAAD;AAAA,6BACI,QAAC,KAAD;AAAO,QAAA,SAAS,EAAE,EAAlB;AAAsB,QAAA,KAAK,EAAEmB,UAA7B;AAAA,gCACI,QAAC,IAAD;AAAM,UAAA,KAAK,EAAC,QAAZ;AAAA,kCACI,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAEK,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAKI,QAAC,UAAD;AAAY,YAAA,OAAO,EAAC,SAApB;AAA8B,YAAA,YAAY,MAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAQI;AAAM,UAAA,QAAQ,EAAE,KAAK5B,aAArB;AAAA,kCAEI,QAAC,SAAD;AAAY,YAAA,EAAE,EAAC,OAAf;AAAuB,YAAA,SAAS,MAAhC;AAAiC,YAAA,KAAK,EAAC,OAAvC;AAA+C,YAAA,WAAW,EAAC,kBAA3D;AAA8E,YAAA,IAAI,EAAC,OAAnF;AACb,YAAA,IAAI,EAAC,OADQ;AAEb,YAAA,KAAK,EAAEqB,KAFM;AAGb,YAAA,QAAQ,EAAE,KAAK3B;AAHF;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAOI,QAAC,SAAD;AAAW,YAAA,EAAE,EAAC,OAAd;AAAsB,YAAA,SAAS,MAA/B;AAAgC,YAAA,KAAK,EAAC,UAAtC;AAAiD,YAAA,WAAW,EAAC,qBAA7D;AAAmF,YAAA,IAAI,EAAC,UAAxF;AACb,YAAA,IAAI,EAAC,UADQ;AAEb,YAAA,KAAK,EAAG0B,QAFK;AAGb,YAAA,QAAQ,EAAE,KAAK1B;AAHF;AAAA;AAAA;AAAA;AAAA,kBAPJ,eAiBI,QAAC,MAAD;AAAQ,YAAA,SAAS,EAAC,gBAAlB;AAAmC,YAAA,IAAI,EAAC,QAAxC;AAAiD,YAAA,OAAO,EAAC,WAAzD;AAAqE,YAAA,KAAK,EAAC,SAA3E;AAAqF,YAAA,KAAK,EAAE;AAACoC,cAAAA,SAAS,EAAE,MAAZ;AAAmBC,cAAAA,UAAU,EAAC;AAA9B,aAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAjBJ,eAkBV;AAAG,YAAA,IAAI,EAAC,8BAAR;AAAA,mCACH,QAAC,MAAD;AAAQ,cAAA,EAAE,EAAC,QAAX;AAAoB,cAAA,OAAO,EAAC,WAA5B;AAAwC,cAAA,KAAK,EAAC,SAA9C;AAAwD,cAAA,KAAK,EAAE;AAACD,gBAAAA,SAAS,EAAE,MAAZ;AAAmBC,gBAAAA,UAAU,EAAC;AAA9B,eAA/D;AAAsG,cAAA,EAAE,EAAE,SAA1G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADG;AAAA;AAAA;AAAA;AAAA,kBAlBU;AAAA;AAAA;AAAA;AAAA;AAAA,gBARJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAoCH;;AA5H8B;;AA8H/B,eAAexC,KAAf","sourcesContent":["\nimport React, { Component } from 'react'\nimport axios from 'axios'\nimport { Grid, Paper, Avatar, Typography, TextField, Button } from '@mui/material'\n// import AddCircleOutlineOutlinedIcon from '@material-ui/icons/AddCircleOutlineOutlined';\nimport { Radio } from '@mui/material';\nimport { RadioGroup } from '@mui/material';\n// import FormControlLabel from '@mui/material';\n//  import {FormControl} from '@mui/material';\nimport { FormControl } from '@mui/material';\n import { FormControlLabel } from '@mui/material';\n import { FormLabel } from '@mui/material';\n //import {Checkbox} from '@material-ui/core/Checkbox';\n import { Checkbox } from '@mui/material';\n import { Navigate } from \"react-router-dom\";\nimport { Link } from 'react-router-dom';\n class Login extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\t\n\t\t\t// User_type:'',\n\t\t\tPassword: '',\n\t\t\tEmail:'',\n\t\t\t\n\t\t\t\n\t\t}\n\t}\n   \n   \n\n\n    changeHandler = e => {\n\t\tthis.setState({ [e.target.name]: e.target.value })\n\t}\n    submitHandler = e => {\n\t\te.preventDefault()\n\t\tconsole.log(this.state)\n\t\t\n\t\t\n     \n\t\taxios\n\t\t\t.post('/users/login ', this.state,{\n\t\t\t\theaders :{\n\t\t\t\t  'Content-Type' : 'application/x-www-form-urlencoded',\n                   \n\t  \n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(response => {\n\n\n                // if(response.data.token){\n                //     alert(\"logged in successfull\")\n                // }\n\t\t\t\tconsole.log(\"logiinnnnnnnnnn\")\n\t\t\t\tconsole.log(response)\n\t\t\t\t\n\t\t\t\tif(response.status != 200){\n\t\t\t\t\talert(\"Wrong Email 0r Password\")\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\n                localStorage.setItem('token', response.data.token);\n                 localStorage.setItem('token1', response.data.user_id);\n\t\t\t\tthis.setState({\n\t\t\t\t\tLoggedIn: true\n\t\t\t\t});\n\n\t\t\t  this.props.setUser(response.data);\n\t\t\t\tconsole.log(\"RESPONES\")\n                console.log(response.data);\n\n\t\t\t\t// console.log(response.data.token)\n\t\t\t})\n\t\t\t.catch(error => {\n\n\t\t\t\tif (error){\n\t\t\t\t\talert(\"Wrong Email 0r Password\")\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})\n            this.setState({\n                \n\t\t\t// User_type:'',\n\t\t\tPassword: '',\n\t\t\tEmail:'',\n\t\t\t\n            });\n            \n\n\t}\n    render() {\n\n\t\tif(this.state.LoggedIn){\n\t\t\treturn <Navigate to={\"/\"}/>\n\t\t}\n   const paperStyle = { padding: '30px 20px', width: 300, margin: \"20px auto\" }\n    const headerStyle = { margin: 0 }\n    const avatarStyle = { backgroundColor: '#1bbd7e' }\n    const { Password , Email, } = this.state;\n    \n    return (\n        <Grid>\n            <Paper elevation={20} style={paperStyle}>\n                <Grid align='center'>\n                    <Avatar style={avatarStyle}>\n                        Log\n                    </Avatar>\n                   \n                    <Typography variant='caption' gutterBottom>Please Login here</Typography>\n                </Grid>\n                <form onSubmit={this.submitHandler}>\n                  \n                    <TextField  id=\"mui-1\" fullWidth label='Email' placeholder=\"Enter your email\" type=\"email\"\n\t\t\t\t\t\t\tname=\"Email\"\n\t\t\t\t\t\t\tvalue={Email}\n\t\t\t\t\t\t\tonChange={this.changeHandler} />\n                \n                    <TextField id=\"mui-2\" fullWidth label='Password' placeholder=\"Enter your password\" type='password' \n\t\t\t\t\t\t\tname=\"Password\"\n\t\t\t\t\t\t\tvalue={\tPassword}\n\t\t\t\t\t\t\tonChange={this.changeHandler}/>\n{/*               \n                    <TextField fullWidth label='USERTYPE' type='text' placeholder=\"enter your user_type\" type=\"text\"\n\t\t\t\t\t\t\tname=\"User_type\"\n\t\t\t\t\t\t\tvalue={\tUser_type}\n\t\t\t\t\t\t\tonChange={this.changeHandler}/> */}\n                   \n                    <Button className='MuiButton-root' type='submit' variant='contained' color='primary' style={{marginTop: \"15px\",marginLeft:\"90px\"}}>Login</Button>\n\t\t    <a href=\"http://localhost:3000/Signup\">\n\t\t\t<Button id=\"signup\" variant='contained' color='primary' style={{marginTop: \"15px\",marginLeft:\"90px\"}} to =\"/Signup\">SignUp</Button>\n\t\t    </a>\n\t\t\t\n                </form>\n            </Paper>\n        </Grid>\n    )\n}}\n\nexport default Login\n\n"]},"metadata":{},"sourceType":"module"}